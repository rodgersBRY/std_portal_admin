(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-74829f42"],{3208:function(e,t,a){"use strict";a("3e60")},"3e60":function(e,t,a){},4929:function(e,t,a){"use strict";a.r(t);var n=a("8336"),s=a("b0af"),l=a("99d9"),r=a("8fea"),i=a("169a"),o=a("132d"),d=a("2db4"),c=a("2fa4"),u=a("8654"),f=a("71d9"),m=(a("14d9"),function(){var e=this,t=e._self._c;return t("div",{staticClass:"students"},[t("header",[t("sidenav")],1),t("main",[t("section",{staticClass:"content"},[e.error?t(d["a"],{attrs:{timeout:"10000",value:!0,color:"error","multi-line":"",absolute:"",text:"",centered:"",top:""},scopedSlots:e._u([{key:"action",fn:function({attrs:a}){return[t(n["a"],e._b({attrs:{color:"brown",text:""},on:{click:e.removeError}},"v-btn",a,!1),[e._v(" Close ")])]}}],null,!1,4035790082)},[e._v(" "+e._s(e.error)+" ")]):e._e(),t(s["a"],{staticClass:"pa-1",attrs:{flat:""}},[t(l["d"],[t("h2",[e._v("Students")]),t(c["a"]),t(u["a"],{attrs:{color:"brown","append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),t("h2",{staticClass:"my-6 ml-3 grey--text"},[e._v(" Students In Attendance: "),t("span",{staticClass:"blue--text"},[e._v(" "+e._s(e.attendanceCount)+" ")])]),t(r["a"],{attrs:{"item-key":e.students.code,headers:e.headers,items:e.students,search:e.search,loading:e.isLoading,"loading-text":"Loading... Please wait"},scopedSlots:e._u([{key:"top",fn:function(){return[t(f["a"],{attrs:{flat:""}},[t(c["a"]),t("user-dialog",{attrs:{userType:["student"]}}),t(i["a"],{attrs:{"max-width":"600px"},model:{value:e.dialogDelete,callback:function(t){e.dialogDelete=t},expression:"dialogDelete"}},[t(s["a"],[t(l["d"],{staticClass:"text-h5"},[e._v("Are you sure you want to delete?")]),t(l["a"],[t(c["a"]),t(n["a"],{attrs:{color:"green darken-1",text:""},on:{click:e.closeDelete}},[e._v("Cancel")]),t(n["a"],{attrs:{color:"green darken-1",text:""},on:{click:e.confirmDelete}},[e._v("OK")]),t(c["a"])],1)],1)],1)],1)]},proxy:!0},{key:"item.name",fn:function({item:a}){return[t("div",{staticStyle:{cursor:"pointer",height:"100%",width:"100%",display:"flex","align-items":"center"},on:{click:function(t){return e.$router.push("/student-details/"+a._id)}}},[e._v(" "+e._s(a.name)+" ")])]}},{key:"item.fee_balance",fn:function({item:a}){return[t("p",{class:["0"!=a.fee_balance?"warning--text":""]},[e._v(" "+e._s(a.fee_balance)+" ")])]}},{key:"item.checkedIn",fn:function({item:a}){return[a.checkedIn?t("div",[e._v("In class")]):t("div",{staticClass:"grey--text"},[e._v("--")])]}},{key:"item.actions",fn:function({item:a}){return[t(o["a"],{staticClass:"mr-2",attrs:{small:"",color:"red"},on:{click:function(t){return e.removeStudent(a)}}},[e._v("mdi-delete")])]}}])})],1)],1)])])}),h=[],b=a("2f62"),v={name:"students",components:{"user-dialog":a("c401").default},created(){this.$store.dispatch("fetchTotalAttendance")},data(){return{search:"",editedIndex:-1,dialogDelete:!1,editedItem:{_id:"",name:"",age:"",phone:"",gender:"",role:"",modules:[],fee_balance:0,status:!1},defaultItem:{name:"",age:"",phone:"",gender:"",role:"",modules:[],fee_balance:0,status:!1},headers:[{text:"Reg No",sortable:!1,value:"code"},{text:"Full Name",sortable:!0,value:"name"},{text:"Phone Number",value:"phone",sortable:!1,filterable:!1},{text:"Email",value:"email",sortable:!1,filterable:!1},{text:"Age",value:"age",sortable:!1,filterable:!1},{text:"Gender",value:"gender",sortable:!1,filterable:!1},{text:"Fee Balance (Ksh)",value:"fee_balance",filterable:!1},{text:"Attendance",value:"checkedIn",sortable:!0,filterable:!1},{text:"Actions",value:"actions",sortable:!1,filterable:!1}]}},computed:{...Object(b["c"])(["students","isLoading","error","attendanceCount"])},methods:{...Object(b["b"])(["deleteStudent","clearError"]),removeStudent(e){this.editedIndex=this.students.indexOf(e),this.editedItem=Object.assign({},e),this.dialogDelete=!0},confirmDelete(){this.deleteStudent(this.editedItem._id),this.closeDelete()},closeDelete(){this.dialogDelete=!1,this.$nextTick(()=>{this.editedItem=Object.assign({},this.defaultItem),this.editedIndex=-1})},removeError(){this.clearError()}}},g=v,_=(a("3208"),a("2877")),x=Object(_["a"])(g,m,h,!1,null,"1fdfd5dd",null);t["default"]=x.exports}}]);
//# sourceMappingURL=chunk-74829f42.c3081ca7.js.map