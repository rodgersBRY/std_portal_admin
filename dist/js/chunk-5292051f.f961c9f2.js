(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5292051f"],{"2a7f":function(e,t,s){"use strict";s.d(t,"a",(function(){return o})),s.d(t,"b",(function(){return i}));var a=s("71d9"),n=s("80d2");const i=Object(n["i"])("v-toolbar__title"),o=Object(n["i"])("v-toolbar__items");a["a"]},"2db4":function(e,t,s){"use strict";s("ca71");var a=s("8dd9"),n=s("a9ad"),i=s("7560"),o=s("f2e7"),r=s("fe6c"),l=s("58df"),c=s("80d2"),d=s("d9bd");t["a"]=Object(l["a"])(a["a"],n["a"],o["a"],Object(r["b"])(["absolute","bottom","left","right","top"])).extend({name:"v-snackbar",props:{app:Boolean,centered:Boolean,contentClass:{type:String,default:""},multiLine:Boolean,text:Boolean,timeout:{type:[Number,String],default:5e3},transition:{type:[Boolean,String],default:"v-snack-transition",validator:e=>"string"===typeof e||!1===e},vertical:Boolean},data:()=>({activeTimeout:-1}),computed:{classes(){return{"v-snack--absolute":this.absolute,"v-snack--active":this.isActive,"v-snack--bottom":this.bottom||!this.top,"v-snack--centered":this.centered,"v-snack--has-background":this.hasBackground,"v-snack--left":this.left,"v-snack--multi-line":this.multiLine&&!this.vertical,"v-snack--right":this.right,"v-snack--text":this.text,"v-snack--top":this.top,"v-snack--vertical":this.vertical}},hasBackground(){return!this.text&&!this.outlined},isDark(){return this.hasBackground?!this.light:i["a"].options.computed.isDark.call(this)},styles(){if(this.absolute||!this.app)return{};const{bar:e,bottom:t,footer:s,insetFooter:a,left:n,right:i,top:o}=this.$vuetify.application;return{paddingBottom:Object(c["h"])(t+s+a),paddingLeft:Object(c["h"])(n),paddingRight:Object(c["h"])(i),paddingTop:Object(c["h"])(e+o)}}},watch:{isActive:"setTimeout",timeout:"setTimeout"},mounted(){this.isActive&&this.setTimeout()},created(){this.$attrs.hasOwnProperty("auto-height")&&Object(d["e"])("auto-height",this),0==this.timeout&&Object(d["d"])('timeout="0"',"-1",this)},methods:{genActions(){return this.$createElement("div",{staticClass:"v-snack__action "},[Object(c["r"])(this,"action",{attrs:{class:"v-snack__btn"}})])},genContent(){return this.$createElement("div",{staticClass:"v-snack__content",class:{[this.contentClass]:!0},attrs:{role:"status","aria-live":"polite"}},[Object(c["r"])(this)])},genWrapper(){const e=this.hasBackground?this.setBackgroundColor:this.setTextColor,t=e(this.color,{staticClass:"v-snack__wrapper",class:a["a"].options.computed.classes.call(this),style:a["a"].options.computed.styles.call(this),directives:[{name:"show",value:this.isActive}],on:{pointerenter:()=>window.clearTimeout(this.activeTimeout),pointerleave:this.setTimeout}});return this.$createElement("div",t,[this.genContent(),this.genActions()])},genTransition(){return this.$createElement("transition",{props:{name:this.transition}},[this.genWrapper()])},setTimeout(){window.clearTimeout(this.activeTimeout);const e=Number(this.timeout);this.isActive&&![0,-1].includes(e)&&(this.activeTimeout=window.setTimeout(()=>{this.isActive=!1},e))}},render(e){return e("div",{staticClass:"v-snack",class:this.classes,style:this.styles},[!1!==this.transition?this.genTransition():this.genWrapper()])}})},4929:function(e,t,s){"use strict";s.r(t);var a=s("8336"),n=s("b0af"),i=s("99d9"),o=s("8fea"),r=s("169a"),l=s("132d"),c=s("2db4"),d=s("2fa4"),u=s("8654"),h=s("71d9"),p=(s("14d9"),function(){var e=this,t=e._self._c;return t("div",{staticClass:"students"},[t("header",[t("sidenav")],1),t("main",[t("section",{staticClass:"content"},[e.error?t(c["a"],{attrs:{timeout:"10000",value:!0,color:"error","multi-line":"",absolute:"",text:"",centered:"",top:""},scopedSlots:e._u([{key:"action",fn:function({attrs:s}){return[t(a["a"],e._b({attrs:{color:"brown",text:""},on:{click:e.removeError}},"v-btn",s,!1),[e._v(" Close ")])]}}],null,!1,4035790082)},[e._v(" "+e._s(e.error)+" ")]):e._e(),t(n["a"],{staticClass:"pa-1",attrs:{flat:""}},[t(i["d"],[t("h2",[e._v("Students")]),t(d["a"]),t(u["a"],{attrs:{color:"brown","append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),t("h2",{staticClass:"my-6 grey--text"},[e._v(" Students available today: "),t("span",{staticClass:"blue--text"},[e._v(" "+e._s(e.attendanceCount)+" ")])]),t(o["a"],{attrs:{"item-key":e.students.code,headers:e.headers,items:e.students,search:e.search,loading:e.isLoading,"loading-text":"Loading... Please wait"},scopedSlots:e._u([{key:"top",fn:function(){return[t(h["a"],{attrs:{flat:""}},[t(d["a"]),t("user-dialog",{attrs:{userType:["student"]}}),t(r["a"],{attrs:{"max-width":"600px"},model:{value:e.dialogDelete,callback:function(t){e.dialogDelete=t},expression:"dialogDelete"}},[t(n["a"],[t(i["d"],{staticClass:"text-h5"},[e._v("Are you sure you want to delete?")]),t(i["a"],[t(d["a"]),t(a["a"],{attrs:{color:"green darken-1",text:""},on:{click:e.closeDelete}},[e._v("Cancel")]),t(a["a"],{attrs:{color:"green darken-1",text:""},on:{click:e.confirmDelete}},[e._v("OK")]),t(d["a"])],1)],1)],1)],1)]},proxy:!0},{key:"item.name",fn:function({item:s}){return[t("div",{staticStyle:{cursor:"pointer",height:"100%",width:"100%",display:"flex","align-items":"center"},on:{click:function(t){return e.$router.push("/student-details/"+s._id)}}},[e._v(" "+e._s(s.name)+" ")])]}},{key:"item.fee_balance",fn:function({item:s}){return[t("p",{class:["0"!=s.fee_balance?"warning--text":""]},[e._v(" "+e._s(s.fee_balance)+" ")])]}},{key:"item.checkedIn",fn:function({item:s}){return[s.checkedIn?t("div",[e._v("In class")]):t("div",{staticClass:"grey--text"},[e._v("--")])]}},{key:"item.actions",fn:function({item:s}){return[t(l["a"],{staticClass:"mr-2",attrs:{small:"",color:"red"},on:{click:function(t){return e.removeStudent(s)}}},[e._v("mdi-delete")])]}}])})],1)],1)])])}),m=[],b=s("2f62"),f={name:"students",components:{"user-dialog":s("c401").default},data(){return{search:"",editedIndex:-1,dialogDelete:!1,editedItem:{_id:"",name:"",age:"",phone:"",gender:"",role:"",modules:[],fee_balance:0,status:!1},defaultItem:{name:"",age:"",phone:"",gender:"",role:"",modules:[],fee_balance:0,status:!1},headers:[{text:"Reg No",sortable:!1,value:"code"},{text:"Full Name",sortable:!0,value:"name"},{text:"Phone Number",value:"phone",sortable:!1,filterable:!1},{text:"Email",value:"email",sortable:!1,filterable:!1},{text:"Age",value:"age",sortable:!1,filterable:!1},{text:"Gender",value:"gender",sortable:!1,filterable:!1},{text:"Fee Balance (Ksh)",value:"fee_balance",filterable:!1},{text:"Attendance",value:"checkedIn",sortable:!0,filterable:!1},{text:"Actions",value:"actions",sortable:!1,filterable:!1}]}},computed:{...Object(b["c"])(["students","isLoading","error","attendanceCount"])},methods:{...Object(b["b"])(["deleteStudent","clearError"]),removeStudent(e){this.editedIndex=this.students.indexOf(e),this.editedItem=Object.assign({},e),this.dialogDelete=!0},confirmDelete(){this.deleteStudent(this.editedItem._id),this.closeDelete()},closeDelete(){this.dialogDelete=!1,this.$nextTick(()=>{this.editedItem=Object.assign({},this.defaultItem),this.editedIndex=-1})},removeError(){this.clearError()}}},g=f,v=(s("91a9"),s("2877")),k=Object(v["a"])(g,p,m,!1,null,"8327123a",null);t["default"]=k.exports},"5e23":function(e,t,s){},"71d9":function(e,t,s){"use strict";s("14d9"),s("3c65"),s("5e23");var a=s("8dd9"),n=s("adda"),i=s("80d2"),o=s("d9bd");t["a"]=a["a"].extend({name:"v-toolbar",props:{absolute:Boolean,bottom:Boolean,collapse:Boolean,dense:Boolean,extended:Boolean,extensionHeight:{default:48,type:[Number,String]},flat:Boolean,floating:Boolean,prominent:Boolean,short:Boolean,src:{type:[String,Object],default:""},tag:{type:String,default:"header"}},data:()=>({isExtended:!1}),computed:{computedHeight(){const e=this.computedContentHeight;if(!this.isExtended)return e;const t=parseInt(this.extensionHeight);return this.isCollapsed?e:e+(isNaN(t)?0:t)},computedContentHeight(){return this.height?parseInt(this.height):this.isProminent&&this.dense?96:this.isProminent&&this.short?112:this.isProminent?128:this.dense?48:this.short||this.$vuetify.breakpoint.smAndDown?56:64},classes(){return{...a["a"].options.computed.classes.call(this),"v-toolbar":!0,"v-toolbar--absolute":this.absolute,"v-toolbar--bottom":this.bottom,"v-toolbar--collapse":this.collapse,"v-toolbar--collapsed":this.isCollapsed,"v-toolbar--dense":this.dense,"v-toolbar--extended":this.isExtended,"v-toolbar--flat":this.flat,"v-toolbar--floating":this.floating,"v-toolbar--prominent":this.isProminent}},isCollapsed(){return this.collapse},isProminent(){return this.prominent},styles(){return{...this.measurableStyles,height:Object(i["h"])(this.computedHeight)}}},created(){const e=[["app","<v-app-bar app>"],["manual-scroll",'<v-app-bar :value="false">'],["clipped-left","<v-app-bar clipped-left>"],["clipped-right","<v-app-bar clipped-right>"],["inverted-scroll","<v-app-bar inverted-scroll>"],["scroll-off-screen","<v-app-bar scroll-off-screen>"],["scroll-target","<v-app-bar scroll-target>"],["scroll-threshold","<v-app-bar scroll-threshold>"],["card","<v-app-bar flat>"]];e.forEach(([e,t])=>{this.$attrs.hasOwnProperty(e)&&Object(o["a"])(e,t,this)})},methods:{genBackground(){const e={height:Object(i["h"])(this.computedHeight),src:this.src},t=this.$scopedSlots.img?this.$scopedSlots.img({props:e}):this.$createElement(n["a"],{props:e});return this.$createElement("div",{staticClass:"v-toolbar__image"},[t])},genContent(){return this.$createElement("div",{staticClass:"v-toolbar__content",style:{height:Object(i["h"])(this.computedContentHeight)}},Object(i["r"])(this))},genExtension(){return this.$createElement("div",{staticClass:"v-toolbar__extension",style:{height:Object(i["h"])(this.extensionHeight)}},Object(i["r"])(this,"extension"))}},render(e){this.isExtended=this.extended||!!this.$scopedSlots.extension;const t=[this.genContent()],s=this.setBackgroundColor(this.color,{class:this.classes,style:this.styles,on:this.$listeners});return this.isExtended&&t.push(this.genExtension()),(this.src||this.$scopedSlots.img)&&t.unshift(this.genBackground()),e(this.tag,s,t)}})},"801c":function(e,t,s){"use strict";s("e6b6")},"8b5a":function(e,t,s){},"91a9":function(e,t,s){"use strict";s("8b5a")},c401:function(e,t,s){"use strict";s.r(t);var a=s("8336"),n=s("b0af"),i=s("cc20"),o=(s("13d5"),s("14d9"),s("4b85"),s("2b0e")),r=s("d9f7"),l=s("80d2");const c=["sm","md","lg","xl"],d=(()=>c.reduce((e,t)=>(e[t]={type:[Boolean,String,Number],default:!1},e),{}))(),u=(()=>c.reduce((e,t)=>(e["offset"+Object(l["D"])(t)]={type:[String,Number],default:null},e),{}))(),h=(()=>c.reduce((e,t)=>(e["order"+Object(l["D"])(t)]={type:[String,Number],default:null},e),{}))(),p={col:Object.keys(d),offset:Object.keys(u),order:Object.keys(h)};function m(e,t,s){let a=e;if(null!=s&&!1!==s){if(t){const s=t.replace(e,"");a+="-"+s}return"col"!==e||""!==s&&!0!==s?(a+="-"+s,a.toLowerCase()):a.toLowerCase()}}const b=new Map;var f=o["a"].extend({name:"v-col",functional:!0,props:{cols:{type:[Boolean,String,Number],default:!1},...d,offset:{type:[String,Number],default:null},...u,order:{type:[String,Number],default:null},...h,alignSelf:{type:String,default:null,validator:e=>["auto","start","end","center","baseline","stretch"].includes(e)},tag:{type:String,default:"div"}},render(e,{props:t,data:s,children:a,parent:n}){let i="";for(const r in t)i+=String(t[r]);let o=b.get(i);if(!o){let e;for(e in o=[],p)p[e].forEach(s=>{const a=t[s],n=m(e,s,a);n&&o.push(n)});const s=o.some(e=>e.startsWith("col-"));o.push({col:!s||!t.cols,["col-"+t.cols]:t.cols,["offset-"+t.offset]:t.offset,["order-"+t.order]:t.order,["align-self-"+t.alignSelf]:t.alignSelf}),b.set(i,o)}return e(t.tag,Object(r["a"])(s,{class:o}),a)}}),g=s("2b5d"),v=s("169a"),k=s("132d"),x=s("0fd9"),_=s("b974"),y=s("2fa4"),w=s("8654"),C=s("71d9"),S=s("2a7f"),O=function(){var e=this,t=e._self._c;return t(v["a"],{attrs:{fullscreen:"",transition:"dialog-bottom-transition"},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:n}){return[t(a["a"],e._g(e._b({attrs:{color:"brown",dark:""}},"v-btn",n,!1),s),[e._v(" Add User ")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[t(n["a"],[t(C["a"],{attrs:{dark:"",color:"green"}},[t(a["a"],{attrs:{icon:"",dark:""},on:{click:function(t){e.dialog=!1}}},[t(k["a"],[e._v("mdi-close")])],1),t(S["b"],[e._v("New User")]),t(y["a"]),t(S["a"])],1),t("form",{staticClass:"new-student-form",on:{submit:function(t){return t.preventDefault(),e.createUser.apply(null,arguments)}}},[t("h1",{staticClass:"mb-5 text-center"},[e._v(" Enter "+e._s(e.userType[0])+" information ")]),t(x["a"],{staticClass:"form-row"},[t(f,{attrs:{cols:"12",sm:"6"}},[t(w["a"],{attrs:{type:"text",label:"Full Name",hint:"e.g. Jane Doe","persistent-hint":"",outlined:"",color:"brown"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1),t(f,{attrs:{cols:"12",sm:"6"}},[t(w["a"],{attrs:{label:"Email",hint:"e.g. janedoe@example.com","persistent-hint":"",outlined:"",color:"brown"},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})],1)],1),t(x["a"],{staticClass:"form-row"},[t(f,{attrs:{cols:"12",sm:"6"}},[t(w["a"],{attrs:{label:"Age",outlined:"",color:"brown"},model:{value:e.age,callback:function(t){e.age=t},expression:"age"}})],1),t(f,{attrs:{cols:"12",sm:"6"}},[t(w["a"],{attrs:{label:"Phone Number",hint:"e.g. 254712345678","persistent-hint":"",outlined:"",color:"brown"},model:{value:e.phone,callback:function(t){e.phone=t},expression:"phone"}})],1)],1),t(x["a"],{staticClass:"form-row"},[t(f,{attrs:{cols:"12",sm:"6"}},[t(_["a"],{attrs:{items:e.genderItems,label:"Gender",outlined:"",color:"brown"},model:{value:e.gender,callback:function(t){e.gender=t},expression:"gender"}})],1),t(f,{attrs:{cols:"12",sm:"6"}},[t(_["a"],{attrs:{items:e.userType,label:"Role",outlined:"",color:"brown"},model:{value:e.role,callback:function(t){e.role=t},expression:"role"}})],1)],1),t("br"),t(g["a"],{attrs:{outlined:"",color:"brown",label:"Select Courses",items:e.courseNames,multiple:""},scopedSlots:e._u([{key:"selection",fn:function({attrs:s,item:a,parent:n,selected:o}){return[t(i["a"],e._b({attrs:{"input-value":o,label:"",small:""}},"v-chip",s,!1),[t("span",{staticClass:"pr-2"},[e._v(" "+e._s(a)+" ")]),t(k["a"],{attrs:{small:""},on:{click:function(e){return n.selectItem(a)}}},[e._v(" $delete ")])],1)]}}]),model:{value:e.course,callback:function(t){e.course=t},expression:"course"}}),t(a["a"],{staticClass:"mt-10",attrs:{dark:"",block:"",color:"brown",loading:e.isLoading},on:{click:e.newUser,keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.newUser.apply(null,arguments)}}},[e._v(" Save ")])],1)],1)],1)},j=[],B=s("2f62"),E={props:["userType"],data(){return{dialog:!1,genderItems:["Male","Female"],name:"",role:"",email:"",phone:"",gender:"",age:"",course:[]}},computed:{...Object(B["c"])(["isLoading","courses","error"]),courseNames(){let e=[];for(let t of this.courses)e.push(t.name);return e}},methods:{async newUser(){if(""!==this.name||""!==this.gender||""!==this.phone||""!==this.email||""!==this.age){let e={name:this.name,email:this.email,phone:this.phone,gender:this.gender,role:this.role,age:this.age,modules:this.course};"student"===this.role?(await this.$store.dispatch("newStudent",e),this.$store.dispatch("fetchStudents")):(await this.$store.dispatch("newInstructor",e),this.$store.dispatch("fetchInstructors")),this.name="",this.email="",this.phone="",this.gender="",this.role="",this.age="",this.course="",this.dialog=!1}else alert("Cannot submit empty fields")}}},$=E,T=(s("801c"),s("2877")),I=Object(T["a"])($,O,j,!1,null,"1a8ede30",null);t["default"]=I.exports},ca71:function(e,t,s){},e6b6:function(e,t,s){}}]);
//# sourceMappingURL=chunk-5292051f.f961c9f2.js.map