{"version":3,"sources":["webpack:///./src/views/student_details.vue?f304","webpack:///./src/views/student_details.vue","webpack:///src/views/student_details.vue","webpack:///./src/views/student_details.vue?b8ab","webpack:///./src/views/student_details.vue?873f"],"names":["student","staticClass","_c","_vm","attrs","on","dialogEnroll","staticStyle","class","$event","dialogUpdate","model","value","callback","$$v","expression","course","enrollStudent","updateFee","staticRenderFns","name","data","studentId","status","amount","computed","courseNames","courses","methods","id","moduleName","component"],"mappings":"gHAAA,W,sKCAqM,EAAIA,W,IAAyCC,OAA0B,EAAGC,EAAG,MAAM,G,OAACD,QAAY,CAAc,MAAM,CAAsJA,uB,CAA+QA,aAAY,6BAAa,OAAM,SAAM,CAACA,MAAY,KAAgC,CAACC,EAAO,MAAC,qBAACD,YAAY,gBAAQ,CAACE,EAAG,MAAI,CAAkCF,YAAY,gBAAOG,GAAK,MAAC,gH,YAAU,gB,CAAC,MAAO,CAAC,8LAAO,YAAC,eAACC,CAAE,EAAC,O,YAAS,gC,GAAiBF,KAAIG,C,YAAmB,QAAC,sCAAE,YAAa,OAAEF,MAAM,CAAC,KAAO,GAAI,eAAwEH,IAA6BC,MAAQC,SAAQH,GAAkC,EAAOE,cAAQ,K,CAA2DK,U,MAAa,CAA6B,Y,CAAmDA,oBAAY,mC,YAAC,gB,GAAmB,KAAO,EAAC,0B,OAAM,QAAE,IAAK,EAAI,IAA0C,YAAW,+BAAYC,YAC16C,CAILL,iBAAO,eAAoGC,GAAM,mCAAC,YAAQ,CAAQ,YAAW,OAAG,eAAK,MAAQ,SAASK,KAAO,sB,KAAKC,SAAY,KAAO,C,MAAA,kEAAC,0EAAE,YAAS,QAAuCN,MAAM,CAAC,cAAgB,SAAW,IAAUO,IAAOC,MAAOT,SAAIG,GAAcO,gBAAmBC,K,CAA4BC,6BAAW,UAAc,OAAIb,WAAY,GAACD,YAAY,SAAyCA,OAAwBE,MAAO,eAAoCC,SAAM,YAAC,eAAQ,GAAiC,WAAK,iBAAiC,WAACO,YAAM,qB,CAACC,SAAWI,C,YAAiB,W,GAAgBb,GAAIa,qBAAU,U,MAAC,CAACD,sBAAmB,iBAAIb,GAAG,SAA6CE,MAAM,e,MAAyB,CAAU,eAAG,SAAC,YAAC,SAAQ,GAAyC,uBAAKD,EAAG,OAAc,CAAC,EAAE,QAAI,EAAQ,QAACC,MAAM,CAAC,MAAQ,gBAAiB,KAAO,IAA0B,GAAC,CAAG,MAAC,YAAC,gBAAYa,KAA0Eb,GAAK,GAAC,wB,MAAC,CAAoB,uBAACO,KAAM,GAACC,QAAWF,a,GAAuCP,CAAoB,MAAC,kBAA0B,8CAAE,MAAK,CAAUF,YAAY,SAAmCA,OAAwBE,MAAO,eAA8CI,SAAW,SAAC,GAAC,eAAa,GAAsB,4B,CAAQ,SAAO,C,YAAkB,e,CAAC,SAAa,C,YAAS,W,CAAe,KAAO,2BAAC,UAAO,YAAC,CAACI,MAAM,MAACC,OAAU,a,MAAqC,CAAW,KAAC,SAACG,QAAmB,YAAIb,MAAG,eAA6CE,MAAM,S,MAAyB,CAAU,eAAG,SAAC,YAAC,SAAQ,GAAyC,uBAAKD,EAAG,OAAc,CAAC,EAAE,QAAI,EAAQ,QAACC,MAAM,CAAC,MAAQ,gBAAiB,KAAO,IAA0B,GAAC,CAAG,MAAC,YAAC,gBAAYc,KAAyE,CAAC,EAAC,2BAC32D,OACGC,uBAEJ,KAAe,G,mIC2HA,GACfC,uBAEAC,OACA,OACAC,uCACAC,UACAb,gBACAJ,gBACAkB,UACAR,YAIAS,aACA,mDAEAC,cACA,SACA,0BACAC,eAEA,WAIAC,SACA,kBACA,OACAC,kBACAL,0BAGA,2CACA,sCACA,eACA,qBACA,gCAGA,sBACA,OACAF,yBACAQ,8BAGA,gDACA,eACA,qBACA,kCCrLyV,I,wBCQrVC,EAAY,eACd,EACA,EACAZ,GACA,EACA,KACA,WACA,MAIa,aAAAY,E","file":"js/chunk-fe58c648.cc7b8cfb.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./student_details.vue?vue&type=style&index=0&id=f54916a0&prod&lang=scss&scoped=true&\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{attrs:{\"id\":\"student-details\"}},[_c('sidenav'),_vm._l((_vm.students),function(student){return _c('main',{key:student._id},[(student._id === _vm.studentId)?_c('div',{staticClass:\"student-info\"},[_c('div',{staticClass:\"student-name\"},[_c('div',[_c('h1',[_vm._v(_vm._s(student.code)+\" - \"+_vm._s(student.name))]),_c('p',[_vm._v(\"Age: \"+_vm._s(student.age)+\" yrs\")])])]),_c('hr'),_c('div',{staticClass:\"contact-info\"},[_c('p',[_c('em',[_vm._v(_vm._s(student.email))])]),_c('p',[_vm._v(\"Tel: \"+_vm._s(student.phone))]),_c('p',[_vm._v(\" Enrollment date: \"+_vm._s(new Date(student.createdAt).toDateString())+\" \")])]),(student.fee_balance !== 'Ksh. 0.0')?_c('div',{staticClass:\"course-info\"},[_c('div',{staticClass:\"d-flex justify-space-between\"},[_c('h3',{staticClass:\"ml-5\"},[_vm._v(\"Enrolled Courses\")]),_c('v-btn',{staticClass:\"mr-4\",attrs:{\"icon\":\"\",\"color\":\"green\"},on:{\"click\":function($event){_vm.dialogEnroll = true}}},[_c('v-icon',{attrs:{\"size\":\"30\"}},[_vm._v(\"mdi-plus\")])],1)],1),(student.modules.length > 0)?_c('div',{staticClass:\"courses-list\"},[_c('ul',_vm._l((student.modules),function(module){return _c('li',{key:module._id,staticClass:\"d-flex justify-space-between\",staticStyle:{\"text-transform\":\"capitalize\"}},[_vm._v(\" \"+_vm._s(module.name)+\" \"),_c('span',{staticStyle:{\"font-size\":\"14px\",\"color\":\"grey\"}},[_vm._v(\" Ksh. \"+_vm._s(module.amount)+\" \")])])}),0)]):_vm._e(),_c('h2',{class:[\n            student.fee_balance !== 'Ksh. 0.0'\n              ? 'warning--text'\n              : 'grey--text',\n            'ml-5',\n          ]},[_vm._v(\" Fee Balance(Ksh): \"+_vm._s(student.fee_balance)+\" \")])]):_vm._e(),_c('v-btn',{staticClass:\"mt-10\",attrs:{\"color\":\"green\",\"outlined\":\"\"},on:{\"click\":function($event){_vm.dialogUpdate = true}}},[_vm._v(\"Update Fee Balance\")]),_c('v-dialog',{attrs:{\"persistent\":\"\",\"max-width\":\"500px\"},model:{value:(_vm.dialogEnroll),callback:function ($$v) {_vm.dialogEnroll=$$v},expression:\"dialogEnroll\"}},[_c('v-card',{staticClass:\"text-center px-11\"},[_c('v-card-title',{staticClass:\"text-h5\"},[_vm._v(\"Select a Course\")]),_c('v-select',{attrs:{\"label\":\"Select Course\",\"single-line\":\"\",\"id\":\"course\",\"items\":_vm.courseNames},model:{value:(_vm.course),callback:function ($$v) {_vm.course=$$v},expression:\"course\"}}),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"grey darken-1\",\"text\":\"\"},on:{\"click\":function($event){_vm.dialogEnroll = false}}},[_vm._v(\" Cancel \")]),_c('v-btn',{attrs:{\"color\":\"brown darken-1\",\"text\":\"\",\"loading\":_vm.isLoading},on:{\"click\":_vm.enrollStudent}},[_vm._v(\"OK\")]),_c('v-spacer')],1)],1)],1),_c('v-dialog',{attrs:{\"max-width\":\"500px\"},model:{value:(_vm.dialogUpdate),callback:function ($$v) {_vm.dialogUpdate=$$v},expression:\"dialogUpdate\"}},[_c('v-card',{staticClass:\"text-center\"},[_c('v-card-title',{staticClass:\"text-h5\"},[_vm._v(\"Enter the paid amount\")]),_c('v-text-field',{staticStyle:{\"width\":\"70%\",\"margin\":\"10px auto\"},attrs:{\"type\":\"number\",\"min\":\"0\",\"outlined\":\"\",\"label\":\"Amount (Ksh)\",\"color\":\"brown\"},model:{value:(_vm.amount),callback:function ($$v) {_vm.amount=$$v},expression:\"amount\"}}),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"grey darken-1\",\"text\":\"\"},on:{\"click\":function($event){_vm.dialogUpdate = false}}},[_vm._v(\" Cancel \")]),_c('v-btn',{attrs:{\"color\":\"brown darken-1\",\"text\":\"\",\"loading\":_vm.isLoading},on:{\"click\":_vm.updateFee}},[_vm._v(\"OK\")]),_c('v-spacer')],1)],1)],1)],1):_vm._e()])})],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"student-details\">\n    <sidenav />\n\n    <main v-for=\"student in students\" :key=\"student._id\">\n      <div v-if=\"student._id === studentId\" class=\"student-info\">\n        <div class=\"student-name\">\n          <div>\n            <h1>{{ student.code }} - {{ student.name }}</h1>\n            <p>Age: {{ student.age }} yrs</p>\n          </div>\n        </div>\n\n        <hr />\n        <div class=\"contact-info\">\n          <p>\n            <em>{{ student.email }}</em>\n          </p>\n\n          <p>Tel: {{ student.phone }}</p>\n          <p>\n            Enrollment date: {{ new Date(student.createdAt).toDateString() }}\n          </p>\n        </div>\n\n        <div v-if=\"student.fee_balance !== 'Ksh. 0.0'\" class=\"course-info\">\n          <div class=\"d-flex justify-space-between\">\n            <h3 class=\"ml-5\">Enrolled Courses</h3>\n            <v-btn icon color=\"green\" class=\"mr-4\" @click=\"dialogEnroll = true\">\n              <v-icon size=\"30\">mdi-plus</v-icon>\n            </v-btn>\n          </div>\n          <div v-if=\"student.modules.length > 0\" class=\"courses-list\">\n            <ul>\n              <li\n                v-for=\"module in student.modules\"\n                :key=\"module._id\"\n                class=\"d-flex justify-space-between\"\n                style=\"text-transform: capitalize\"\n              >\n                {{ module.name }}\n                <span style=\"font-size: 14px; color: grey\">\n                  Ksh. {{ module.amount }}\n                </span>\n              </li>\n            </ul>\n          </div>\n\n          <h2\n            :class=\"[\n              student.fee_balance !== 'Ksh. 0.0'\n                ? 'warning--text'\n                : 'grey--text',\n              'ml-5',\n            ]\"\n          >\n            Fee Balance(Ksh): {{ student.fee_balance }}\n          </h2>\n        </div>\n\n        <v-btn color=\"green\" outlined @click=\"dialogUpdate = true\" class=\"mt-10\"\n          >Update Fee Balance</v-btn\n        >\n\n        <!-- enroll student to more courses -->\n        <v-dialog persistent v-model=\"dialogEnroll\" max-width=\"500px\">\n          <v-card class=\"text-center px-11\">\n            <v-card-title class=\"text-h5\">Select a Course</v-card-title>\n            <v-select\n              label=\"Select Course\"\n              single-line\n              id=\"course\"\n              v-model=\"course\"\n              :items=\"courseNames\"\n            >\n            </v-select>\n\n            <v-card-actions>\n              <v-spacer></v-spacer>\n              <v-btn color=\"grey darken-1\" text @click=\"dialogEnroll = false\">\n                Cancel\n              </v-btn>\n              <v-btn\n                color=\"brown darken-1\"\n                text\n                :loading=\"isLoading\"\n                @click=\"enrollStudent\"\n                >OK</v-btn\n              >\n              <v-spacer />\n            </v-card-actions>\n          </v-card>\n        </v-dialog>\n\n        <!-- update fee balance -->\n        <v-dialog v-model=\"dialogUpdate\" max-width=\"500px\">\n          <v-card class=\"text-center\">\n            <v-card-title class=\"text-h5\">Enter the paid amount</v-card-title>\n            <v-text-field\n              type=\"number\"\n              min=\"0\"\n              outlined\n              label=\"Amount (Ksh)\"\n              v-model=\"amount\"\n              style=\"width: 70%; margin: 10px auto\"\n              color=\"brown\"\n            >\n            </v-text-field>\n            <v-card-actions>\n              <v-spacer></v-spacer>\n              <v-btn color=\"grey darken-1\" text @click=\"dialogUpdate = false\">\n                Cancel\n              </v-btn>\n              <v-btn\n                color=\"brown darken-1\"\n                text\n                :loading=\"isLoading\"\n                @click=\"updateFee\"\n                >OK</v-btn\n              >\n              <v-spacer />\n            </v-card-actions>\n          </v-card>\n        </v-dialog>\n      </div>\n    </main>\n  </div>\n</template>\n\n<script>\nimport { mapGetters } from \"vuex\";\n\nexport default {\n  name: \"student-details\",\n\n  data() {\n    return {\n      studentId: this.$route.params.studentId,\n      status: true,\n      dialogUpdate: false,\n      dialogEnroll: false,\n      amount: \"\",\n      course: \"\",\n    };\n  },\n\n  computed: {\n    ...mapGetters([\"students\", \"isLoading\", \"courses\"]),\n\n    courseNames() {\n      let courses = [];\n      for (let course of this.courses) {\n        courses.push(course.name);\n      }\n      return courses;\n    },\n  },\n\n  methods: {\n    async updateFee() {\n      let updateData = {\n        id: this.studentId,\n        amount: this.amount,\n      };\n\n      await this.$store.dispatch(\"updateStudentFee\", updateData);\n      this.$store.dispatch(\"fetchStudents\");\n      this.amount = \"\";\n      this.dialogUpdate = false;\n      this.$router.push(\"/students\");\n    },\n\n    async enrollStudent() {\n      let payload = {\n        studentId: this.studentId,\n        moduleName: this.course,\n      };\n\n      await this.$store.dispatch(\"enrollStudentToCourse\", payload);\n      this.course = \"\";\n      this.dialogEnroll = false;\n      this.$router.push(\"/students\");\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@media screen and (min-width: 1000px) {\n  .student-info {\n    width: 50%;\n  }\n}\n\n@media screen and (max-width: 1000px) {\n  .student-info {\n    width: 90%;\n  }\n}\n\nmain {\n  margin: 20px 0 0 60px;\n  .student-info {\n    margin: 10% auto;\n    border-radius: 10px;\n    padding: 5rem;\n    box-shadow: 5px 5px 1rem grey;\n\n    .student-name {\n      display: flex;\n      justify-content: space-between;\n    }\n    .contact-info {\n      margin-top: 20px;\n    }\n    .course-info {\n      border: 1px solid rgb(223, 223, 223);\n      border-radius: 10px;\n      padding: 10px 0;\n      margin-top: 2rem;\n      .courses-list {\n        background-color: rgb(241, 241, 241);\n        margin: 10px 0;\n\n        ul {\n          list-style: none;\n          padding: 0;\n          li {\n            padding: 7px 24px;\n            font-size: 20px;\n            &:hover {\n              background-color: rgb(78, 78, 78);\n              color: white;\n            }\n          }\n        }\n      }\n    }\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./student_details.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./student_details.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./student_details.vue?vue&type=template&id=f54916a0&scoped=true&\"\nimport script from \"./student_details.vue?vue&type=script&lang=js&\"\nexport * from \"./student_details.vue?vue&type=script&lang=js&\"\nimport style0 from \"./student_details.vue?vue&type=style&index=0&id=f54916a0&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f54916a0\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}